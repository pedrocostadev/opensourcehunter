# OpenSourceHunter ğŸ¯

Track open source issues and auto-generate PRs with GitHub Copilot.

![Next.js](https://img.shields.io/badge/Next.js-16-black)
![TypeScript](https://img.shields.io/badge/TypeScript-5.9-blue)
![Tailwind CSS](https://img.shields.io/badge/Tailwind-4.1-38bdf8)

## Features

- ğŸ” **Watch Repositories** - Track your favorite open source projects
- ğŸ”” **Real-time Notifications** - Get instant alerts via webhooks when new issues appear
- ğŸ¤– **AI-Powered PRs** - Copilot automatically generates draft PRs for new issues
- âœ… **Review & Publish** - Review diffs and publish when ready
- ğŸ·ï¸ **Smart Filtering** - Filter by labels (good-first-issue, bug, etc.)

## How It Works

1. **Sign in** with GitHub OAuth
2. **Add repositories** you want to contribute to
3. **Configure filters** (labels, languages)
4. **Receive notifications** when new issues are created
5. **Review draft PRs** generated by Copilot
6. **Publish** the PR or **reject** if it's not right

## Tech Stack

- **Framework**: Next.js 16 (App Router)
- **Language**: TypeScript 5.9
- **Styling**: Tailwind CSS 4 + shadcn/ui
- **Database**: SQLite (via Prisma 7)
- **Auth**: NextAuth.js 4 (GitHub OAuth)
- **AI**: GitHub Copilot Coding Agent
- **Deployment**: Vercel

## Getting Started

### Prerequisites

- Node.js 18+
- GitHub account
- GitHub Copilot Pro+ subscription (for auto-fix feature)

### 1. Clone and Install

```bash
git clone https://github.com/yourusername/opensourcehunter.git
cd opensourcehunter
npm install
```

### 2. Configure Environment

```bash
cp .env.example .env
```

Edit `.env` with your values:

```env
# Generate secrets with: openssl rand -base64 32
NEXTAUTH_SECRET="your-secret"

# GitHub OAuth App (https://github.com/settings/developers)
GITHUB_ID="your-client-id"
GITHUB_SECRET="your-client-secret"

# Webhook secret for GitHub
GITHUB_WEBHOOK_SECRET="your-webhook-secret"

# Cron job protection
CRON_SECRET="your-cron-secret"
```

### 3. Set Up Database

```bash
npx prisma migrate dev
npx prisma generate
```

### 4. Run Development Server

```bash
npm run dev
```

Open [http://localhost:3000](http://localhost:3000)

### 5. Configure GitHub OAuth App

1. Go to [GitHub Developer Settings](https://github.com/settings/developers)
2. Create a new OAuth App
3. Set Homepage URL: `http://localhost:3000`
4. Set Callback URL: `http://localhost:3000/api/auth/callback/github`
5. Copy Client ID and Secret to `.env`

## Deployment

### Deploy to Vercel

[![Deploy with Vercel](https://vercel.com/button)](https://vercel.com/new/clone?repository-url=https://github.com/yourusername/opensourcehunter)

1. Push to GitHub
2. Import to Vercel
3. Add environment variables
4. Deploy!

### Post-Deployment

1. Update GitHub OAuth callback URL to your production domain
2. Configure webhook URL in watched repositories
3. Set up Vercel Cron for `/api/cron/poll-copilot`

## API Endpoints

| Method | Endpoint | Description |
|--------|----------|-------------|
| GET/POST | `/api/repos` | List/add watched repos |
| DELETE/PATCH | `/api/repos/:id` | Remove/update repo |
| GET | `/api/issues` | List tracked issues |
| POST | `/api/issues/:id/claim` | Mark as working on it |
| GET | `/api/notifications` | Get notifications |
| POST | `/api/webhooks/github` | Receive GitHub events |
| GET | `/api/drafts` | List pending draft PRs |
| POST | `/api/drafts/:id/publish` | Publish draft PR |
| POST | `/api/drafts/:id/reject` | Reject draft PR |

## Project Structure

```
src/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ api/           # API routes
â”‚   â”œâ”€â”€ auth/          # Auth pages
â”‚   â”œâ”€â”€ dashboard/     # Main dashboard
â”‚   â””â”€â”€ drafts/        # Draft PR review
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ layout/        # Navbar, notifications
â”‚   â””â”€â”€ ui/            # shadcn/ui components
â””â”€â”€ lib/
    â”œâ”€â”€ auth.ts        # NextAuth config
    â”œâ”€â”€ copilot.ts     # Copilot integration
    â”œâ”€â”€ github.ts      # GitHub API
    â”œâ”€â”€ prisma.ts      # Database client
    â””â”€â”€ notifications.ts
```

## License

MIT
